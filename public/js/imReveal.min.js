var imReveal=function(){function t(t){this.dragging=!1,this.container=t,this.fffWrapper=document.createElement("div"),this.wrap(this.container,this.fffWrapper),this.container.style.overflow="visible",this.fffWrapper.style.overflow="hidden",this.left=t.getElementsByTagName("img")[0],this.right=t.getElementsByTagName("img")[1],this.reinit(),this.slider=document.createElement("div"),this.wrap(this.right,this.slider),this.sliderHandle=document.createElement("div"),this.container.appendChild(this.sliderHandle),this.registerEventListeners(),this.addClasses()}return t.prototype.registerEventListeners=function(){this.sliderHandle.addEventListener("mousedown",this.start.bind(this)),this.container.addEventListener("mousemove",this.move.bind(this)),this.container.addEventListener("mouseup",this.stop.bind(this)),this.container.addEventListener("mouseenter",function(){}),this.container.addEventListener("mouseleave",this.stop.bind(this)),this.sliderHandle.addEventListener("touchstart",this.start.bind(this),{passive:!0}),this.container.addEventListener("touchmove",this.move.bind(this),{passive:!0}),this.container.addEventListener("touchend",this.stop.bind(this)),this.container.addEventListener("touchcancel",this.stop.bind(this)),this.container.addEventListener("dragstart",function(t){return t.preventDefault()}),this.right.addEventListener("dragstart",function(t){return t.preventDefault()}),this.left.addEventListener("dragstart",function(t){return t.preventDefault()}),window.addEventListener("resize",this.reinit.bind(this))},t.prototype.addClasses=function(){this.container.classList.add("imReveal-container"),this.slider.classList.add("imReveal-slider"),this.sliderHandle.classList.add("imReveal-slider-handle")},t.prototype.move=function(t){this.dragging&&(this.offset=Math.min(Math.max(this.getXOffset(t),0),this.width),window.requestAnimationFrame(this.update.bind(this)))},t.prototype.update=function(){this.slider.style.left=this.offset+"px",this.right.style.left=-this.offset+"px",this.sliderHandle.style.left=this.offset-25+"px",this.dragging&&window.requestAnimationFrame(this.update.bind(this))},t.prototype.start=function(){this.dragging=!0},t.prototype.stop=function(){this.dragging=!1},t.prototype.getXOffset=function(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent?t.touches[0].clientX-this.containerLeft:t.clientX-this.containerLeft},t.prototype.wrap=function(t,e){t.parentNode.insertBefore(e,t),e.appendChild(t)},t.prototype.reinit=function(){this.fffWrapper.style.width=this.left.clientWidth+"px",this.width=this.container.clientWidth,this.containerLeft=this.container.getBoundingClientRect().left},t}();